<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<body>
<th:block th:fragment="rows">
    <tr th:each="apprenti : ${apprentis}" class="clickable-row"
        th:attr="data-id=${apprenti.apprentiId},data-name=${apprenti.apprentiName},data-prenom=${apprenti.apprentiPrenom},data-email=${apprenti.apprentiEmail},data-telephone=${apprenti.telephone},data-year=${apprenti.anneeAcademiqueString},data-entreprise=${apprenti.entreprise != null ? apprenti.entreprise.raisonSociale : ''},data-maitre=${apprenti.maitreApprentissage != null ? apprenti.maitreApprentissage.maNom + ' ' + apprenti.maitreApprentissage.maPrenom : ''},data-majeur=${apprenti.majeur != null ? apprenti.majeur.label : ''}">
        <td th:text="${apprenti.apprentiId}"></td>
        <td th:text="${apprenti.apprentiName}"></td>
        <td th:text="${apprenti.apprentiPrenom}"></td>
        <td th:text="${apprenti.apprentiEmail}"></td>
        <td th:text="${apprenti.telephone}"></td>
        <td th:text="${apprenti.programme != null ? apprenti.programme.label : 'N/A'}"></td>
        <td th:text="${apprenti.majeur != null ? apprenti.majeur.label : 'N/A'}"></td>
        <td th:text="${apprenti.entreprise != null ? apprenti.entreprise.raisonSociale : 'N/A'}"></td>
        <td th:text="${apprenti.maitreApprentissage != null ? apprenti.maitreApprentissage.maNom + ' ' + apprenti.maitreApprentissage.maPrenom : 'N/A'}"></td>
        <td>
            <a class="btn btn-sm btn-outline-primary" th:href="@{'/apprenti/edit/' + ${apprenti.apprentiId}}">Éditer</a>
            <a class="btn btn-sm btn-outline-danger delete-apprenti" th:href="@{'/apprenti/deleteapprenti/' + ${apprenti.apprentiId}}">Supprimer</a>
        </td>
    </tr>
    <tr th:if="${apprentis.empty}">
        <td colspan="10" class="text-center text-muted">Aucun apprenti trouvé</td>
    </tr>
</th:block>
</body>
</html>
